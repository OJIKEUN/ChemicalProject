<link href="~/vendor/bootstrap-table/bootstrap-table.min.css" rel="stylesheet" />
<link href="~/vendor/bootstrap-table/bootstrap-table-sticky-header.css" rel="stylesheet" />

<div class="row gutters mt-4">
    <div class="card">
        <div class="mt-3"></div>
        <h2>Records for @ViewBag.ChemicalName</h2>
        <p>Current Stock: @ViewBag.CurrentStock</p>
        <hr class="m-0" />
        <div class="card-body">
            <div id="toolbar">
                <div class="btn-group me-2">
                    <a asp-action="Create" asp-route-id="@ViewBag.ChemicalId" class="btn btn-primary">Create New</a>
                </div>
            </div>
            <table id="table"
                   data-toggle="table"
                   data-locale="en-US"
                   data-sticky-header="true"
                   data-sticky-header-offset-y="60"
                   data-search="true"
                   data-toolbar="#toolbar"
                   data-search-highlight="true"
                   data-search-align="right"
                   data-show-toggle="true"
                   data-show-refresh="true"
                   data-show-columns="true"
                   data-buttons="[]"
                   data-key-events="true"
                   data-url="@Url.Action("GetData", "Records_FALab")?id=@ViewBag.ChemicalId"
                   data-pagination="true"
                   data-page-size="25">


                <thead>
                    <tr>
                        <th data-field="id" data-sortable="true">ID</th>
                        <th data-field="chemicalName" data-sortable="true">Chemical Name</th>
                        <th data-field="badge" data-sortable="true">Badge</th>
                        <th data-field="receivedQuantity" data-sortable="true">Received Quantity</th>
                        <th data-field="consumption" data-sortable="true">Consumption</th>
                        <th data-field="justify" data-sortable="true">Justify</th>
                        <th data-field="recordDate" data-sortable="true">Record Date</th>
                        <th data-field="receivedDate" data-sortable="true">Received Date</th>
                        <th data-field="expiredDate" data-sortable="true">Expired Date</th>
                        <th data-formatter="viewFormatter" class="text-center no-space-three" data-width="100" data-width="180">Actions</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>
    </div>
</div>
@section Scripts {
    <script src="~/vendor/bootstrap-table/bootstrap-table.min.js"></script>
    <script src="~/vendor/bootstrap-table/bootstrap-table-sticky-header.min.js"></script>
    <script src="~/vendor/bootstrap-table/bootstrap-table-filter-control.min.js"></script>
    <script>
        function viewFormatter(value, row, index) {
            return `
                        <a href="@Url.Action("Edit", "Records_FALab")?id=${row.id}" class="btn btn-info btn-sm shadow">Edit</a>
                        <a href="@Url.Action("Delete", "Records_FALab")?id=${row.id}" class="btn btn-danger btn-sm shadow">Delete</a>
                    `;
        }
    </script>
}










@* @model IEnumerable<ChemicalProject.Models.Records_FALab>


    @{
    ViewData["Title"] = "Records";
    var chemicalName = ViewBag.ChemicalName;
    var currentStock = ViewBag.CurrentStock;
    }

    <h1>Records for @chemicalName</h1>
    <p>Current Stock: @currentStock</p>

    <div class="d-flex justify-content-end">
    <a asp-action="Create" asp-route-id="@ViewBag.ChemicalId" class="btn btn-primary">Create New</a>
    </div>

    <table class="table">
    <thead>
    <tr>
    <th>

    @Html.DisplayNameFor(model => model.First().Chemical_FALab.Id)

    </th>
    <th>

    @Html.DisplayNameFor(model => model.First().Badge)

    </th>
    <th>

    @Html.DisplayNameFor(model => model.First().ReceivedQuantity)

    </th>
    <th>

    @Html.DisplayNameFor(model => model.First().Consumption)

    </th>
    <th>

    @Html.DisplayNameFor(model => model.First().Justify)

    </th>
    <th>

    @Html.DisplayNameFor(model => model.First().RecordDate)

    </th>
    <th>

    @Html.DisplayNameFor(model => model.First().ReceivedDate)

    </th>
    <th>

    @Html.DisplayNameFor(model => model.First().ExpiredDate)

    </th>
    <th></th>
    </tr>
    </thead>
    <tbody>

    @foreach (var item in Model)

    {

    <tr>
    <td>

    @Html.DisplayFor(modelItem => item.Chemical_FALab.Id)

    </td>
    <td>

    @Html.DisplayFor(modelItem => item.Badge)

    </td>
    <td>

    @Html.DisplayFor(modelItem => item.ReceivedQuantity)

    </td>
    <td>

    @Html.DisplayFor(modelItem => item.Consumption)

    </td>
    <td>

    @Html.DisplayFor(modelItem => item.Justify)

    </td>
    <td>

    @Html.DisplayFor(modelItem => item.RecordDate)

    </td>
    <td>

    @Html.DisplayFor(modelItem => item.ReceivedDate)

    </td>
    <td>

    @Html.DisplayFor(modelItem => item.ExpiredDate)

    </td>
    <td>

    <a asp-action="Edit" asp-route-id="@item.Id">Edit</a> |

    <a asp-action="Details" asp-route-id="@item.Id">Details</a> |

    <a asp-action="Delete" asp-route-id="@item.Id">Delete</a>

    </td>
    </tr>

    }

    </tbody>
    </table> *@
